<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ“… AI ì¼ì • ë„ìš°ë¯¸ ëŒ€ì‹œë³´ë“œ</title>
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body class="bg-gray-100">
    {% include "includes/header.html" %}
  

  <main class="max-w-7xl mx-auto px-4 py-6">
    <!-- ìº˜ë¦°ë” ì„¹ì…˜ -->
    <section class="bg-white rounded-xl shadow p-6 mb-6">
      <h2 class="text-xl font-bold mb-4">ğŸ“… ë‚´ ì¼ì • ìº˜ë¦°ë”</h2>
      <div id="calendar" class="w-full"></div>
    </section>

    <!-- ì¼ì • ê´€ë¦¬ ì„¹ì…˜ -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
      <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” - ì¼ì • ë“±ë¡ -->
      <section class="bg-white rounded-xl shadow p-6">
        <h2 class="text-xl font-bold mb-4">ğŸ“ ì¼ì • ë“±ë¡</h2>
        <form id="schedule-form" class="space-y-4">
          <div>
            <label for="schedule-title" class="block text-sm text-gray-600 font-medium mb-1">ì œëª©</label>
            <input type="text" class="w-full border p-2 rounded" id="schedule-title" required>
          </div>
          <div>
            <label for="schedule-description" class="block text-sm text-gray-600 font-medium mb-1">ì„¤ëª…</label>
            <textarea class="w-full border p-2 rounded" id="schedule-description" rows="2"></textarea>
          </div>
          <div>
            <label for="schedule-start-time" class="block text-sm text-gray-600 font-medium mb-1">ì‹œì‘ ì‹œê°„</label>
            <input type="datetime-local" class="w-full border p-2 rounded" id="schedule-start-time" required>
          </div>
          <div>
            <label for="schedule-end-time" class="block text-sm text-gray-600 font-medium mb-1">ì¢…ë£Œ ì‹œê°„</label>
            <input type="datetime-local" class="w-full border p-2 rounded" id="schedule-end-time" required>
          </div>
          <div>
            <label for="schedule-priority" class="block text-sm text-gray-600 font-medium mb-1">ìš°ì„ ìˆœìœ„ (1-5)</label>
            <select class="w-full border p-2 rounded" id="schedule-priority">
              <option value="1">1 (ë‚®ìŒ)</option>
              <option value="2">2</option>
              <option value="3" selected>3 (ë³´í†µ)</option>
              <option value="4">4</option>
              <option value="5">5 (ë†’ìŒ)</option>
            </select>
          </div>
          <button type="button" id="save-schedule-button" class="w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700">ì¼ì • ë“±ë¡</button>
        </form>
        
        <div class="mt-6">
          <button id="optimize-button" class="w-full bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600">ğŸ“ˆ ì¼ì • ìµœì í™”</button>
        </div>
      </section>

      <!-- ë©”ì¸ ì»¨í…ì¸  - ì¼ì • ëª©ë¡ -->
      <section class="lg:col-span-2 bg-white rounded-xl shadow p-6">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-bold">ğŸ“‹ ë‚´ ì¼ì •</h2>
        </div>
        <div id="schedules-container" class="mb-4">
          <!-- ì¼ì • ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
          <div class="flex justify-center py-5">
            <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"></div>
          </div>
        </div>
      </section>
    </div>
    
    <!-- ìµœì í™”ëœ ì¼ì • ì„¹ì…˜ -->
    <section class="bg-white rounded-xl shadow p-6 mb-6" id="optimized-schedules-section" style="display: none;">
      <h2 class="text-xl font-bold mb-4">ğŸ” ìµœì í™”ëœ ì¼ì •</h2>
      <div id="optimized-schedules-container">
        <!-- ìµœì í™”ëœ ì¼ì •ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
      </div>
    </section>
  </main>

  <!-- ì¼ì • ìƒì„¸ ëª¨ë‹¬ -->
  <div id="detailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex justify-center items-center z-30">
    <div class="bg-white rounded-xl shadow p-6 w-96">
      <h3 clalss="text-lg font-semibold mb-4">ğŸ“‹ ì¼ì • ìƒì„¸</h3>
      <div class="space-y-2 mb-4 text-sm text-gray-700">
        <p><strong>ì œëª©:</strong> <span id="detailTitle"></span></p>
        <p><strong>ì‹œê°„:</strong> <span id="detailTime"></span></p>
        <p><strong>ì„¤ëª…:</strong> <span id="detailDesc"></span></p>
        <p><strong>ìš°ì„ ìˆœìœ„:</strong> <span id="detailPriority"></span></p>
        <p><strong>ì™„ë£Œ ì—¬ë¶€:</strong> <span id="detailCompleted"></span></p>
      </div>
      <div class="flex justify-end gap-2">
        <button id="completeBtn" class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600">ì™„ë£Œ</button>
        <button id="deleteBtn" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600">ì‚­ì œ</button>
        <button id="closeDetailBtn" class="px-3 py-1 bg-gray-300 rounded hover:bg-gray-400">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>
  <script src="/static/js/main.js"></script>
  <script src="/static/js/common.js"></script>
  <script>
    // ì¸ì¦ í™•ì¸
    document.addEventListener('DOMContentLoaded', function() {
      if (!getToken()) {
        window.location.href = '/login';
        return;
      }
      
      // ìº˜ë¦°ë” ì´ˆê¸°í™”
      initCalendar();
      
      // ë‚ ì§œ/ì‹œê°„ ì„ íƒê¸° ì´ˆê¸°í™”
      flatpickr("#schedule-start-time", {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        locale: "ko"
      });
      
      flatpickr("#schedule-end-time", {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        locale: "ko"
      });
      
      // ì¼ì • ëª©ë¡ ë¡œë“œ
      loadSchedules();
      
      // ì¼ì • ì €ì¥ ë²„íŠ¼ ì´ë²¤íŠ¸
      document.getElementById('save-schedule-button').addEventListener('click', saveSchedule);
      
      // ì¼ì • ìµœì í™” ë²„íŠ¼ ì´ë²¤íŠ¸
      document.getElementById('optimize-button').addEventListener('click', optimizeSchedules);
      
      // ë¡œê·¸ì•„ì›ƒ ë§í¬ ì´ë²¤íŠ¸
      document.getElementById('logout-link').addEventListener('click', function(e) {
        e.preventDefault();
        localStorage.removeItem('token');
        window.location.href = '/login';
      });
      
      // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
      document.getElementById('closeDetailBtn').addEventListener('click', function() {
        document.getElementById('detailModal').classList.add('hidden');
      });
      
      // ì¼ì • ì‚­ì œ ë²„íŠ¼
      document.getElementById('deleteBtn').addEventListener('click', function() {
        const scheduleId = this.dataset.id;
        if (confirm('ì •ë§ ì´ ì¼ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
          deleteSchedule(scheduleId);
        }
      });
      
      // ì¼ì • ì™„ë£Œ ë²„íŠ¼
      document.getElementById('completeBtn').addEventListener('click', function() {
        const scheduleId = this.dataset.id;
        toggleScheduleComplete(scheduleId, true);
      });
    });
    
    // ìº˜ë¦°ë” ì´ˆê¸°í™” í•¨ìˆ˜
    function initCalendar() {
      const calendarEl = document.getElementById('calendar');
      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,timeGridDay'
        },
        locale: 'ko',
        height: 500,
        events: function(fetchInfo, successCallback, failureCallback) {
          // ì„œë²„ì—ì„œ ì¼ì • ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
          fetchAPI('/api/schedules')
            .then(schedules => {
              const events = schedules.map(schedule => {
                return {
                  id: schedule.id,
                  title: schedule.title,
                  start: schedule.start_time,
                  end: schedule.end_time,
                  description: schedule.description,
                  priority: schedule.priority,
                  is_completed: schedule.is_completed,
                  color: getPriorityColor(schedule.priority),
                  textColor: schedule.is_completed ? '#888888' : '#000000',
                  className: schedule.is_completed ? 'line-through' : ''
                };
              });
              successCallback(events);
            })
            .catch(error => {
              console.error('ì¼ì • ë¡œë“œ ì˜¤ë¥˜:', error);
              failureCallback(error);
            });
        },
        eventClick: function(info) {
          // ì¼ì • ìƒì„¸ ë³´ê¸°
          document.getElementById('detailTitle').textContent = info.event.title;
          document.getElementById('detailTime').textContent = new Date(info.event.start).toLocaleString('ko-KR') + 
                                                            ' - ' + 
                                                            new Date(info.event.end).toLocaleString('ko-KR');
          document.getElementById('detailDesc').textContent = info.event.extendedProps.description || '(ì—†ìŒ)';
          document.getElementById('detailPriority').textContent = info.event.extendedProps.priority;
          document.getElementById('detailCompleted').textContent = info.event.extendedProps.is_completed ? 'ì™„ë£Œ' : 'ë¯¸ì™„ë£Œ';
          
          // ìˆ˜ì • ë° ì‚­ì œ ë²„íŠ¼ì— ì´ë²¤íŠ¸ ID ì„¤ì •
          document.getElementById('completeBtn').dataset.id = info.event.id;
          document.getElementById('deleteBtn').dataset.id = info.event.id;
          
          // ì™„ë£Œ ìƒíƒœì— ë”°ë¼ ì™„ë£Œ ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€
          document.getElementById('completeBtn').style.display = info.event.extendedProps.is_completed ? 'none' : 'block';
          
          // ëª¨ë‹¬ í‘œì‹œ
          document.getElementById('detailModal').classList.remove('hidden');
        },
        dateClick: function(info) {
          // ë‚ ì§œ í´ë¦­ ì‹œ ì¼ì • ë“±ë¡ í¼ì— ë‚ ì§œ ì„¤ì •
          const clickedDate = new Date(info.date);
          const formattedDate = clickedDate.toISOString().slice(0, 16);
          
          document.getElementById('schedule-start-time').value = formattedDate;
          
          // ì¢…ë£Œ ì‹œê°„ì€ ì‹œì‘ ì‹œê°„ + 1ì‹œê°„ìœ¼ë¡œ ì„¤ì •
          const endDate = new Date(clickedDate.getTime() + 60 * 60 * 1000);
          document.getElementById('schedule-end-time').value = endDate.toISOString().slice(0, 16);
          
          // ì¼ì • ë“±ë¡ í¼ìœ¼ë¡œ ìŠ¤í¬ë¡¤
          document.getElementById('schedule-form').scrollIntoView({ behavior: 'smooth' });
        }
      });
      calendar.render();
      
      // ì „ì—­ ë³€ìˆ˜ë¡œ ìº˜ë¦°ë” ì €ì¥ (í•„ìš”ì‹œ ë‹¤ë¥¸ í•¨ìˆ˜ì—ì„œ ì ‘ê·¼í•˜ê¸° ìœ„í•¨)
      window.calendar = calendar;
    }
    
    // ìš°ì„ ìˆœìœ„ì— ë”°ë¥¸ ìƒ‰ìƒ ë°˜í™˜ í•¨ìˆ˜
    function getPriorityColor(priority) {
      const colors = {
        1: '#CCCCCC',  // íšŒìƒ‰
        2: '#63B3ED',  // íŒŒë€ìƒ‰
        3: '#7F9CF5',  // ì¸ë””ê³ 
        4: '#F6E05E',  // ë…¸ë€ìƒ‰
        5: '#F56565'   // ë¹¨ê°„ìƒ‰
      };
      return colors[priority] || '#7F9CF5';
    }
    
    // ìš°ì„ ìˆœìœ„ ë°°ì§€ ë°˜í™˜ í•¨ìˆ˜
    function getPriorityBadge(priority) {
      const colors = {
        1: 'bg-gray-200 text-gray-700',
        2: 'bg-blue-100 text-blue-700',
        3: 'bg-indigo-100 text-indigo-700',
        4: 'bg-yellow-100 text-yellow-700',
        5: 'bg-red-100 text-red-700'
      };
      
      return `<span class="ml-2 text-xs px-2 py-0.5 rounded-full ${colors[priority]}">P${priority}</span>`;
    }
    
    // ì¼ì • ëª©ë¡ ë¡œë“œ í•¨ìˆ˜
    async function loadSchedules() {
      try {
        const schedules = await fetchAPI('/api/schedules');
        const container = document.getElementById('schedules-container');
        
        if (schedules.length === 0) {
          container.innerHTML = '<div class="text-center py-3">ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
          return;
        }
        
        let html = '<div class="space-y-2 max-h-[500px] overflow-y-auto pr-2">';
        
        // ë‚ ì§œë³„ë¡œ ì¼ì • ì •ë ¬
        schedules.sort((a, b) => new Date(a.start_time) - new Date(b.start_time));
        
        schedules.forEach(schedule => {
          const startTime = new Date(schedule.start_time).toLocaleString('ko-KR');
          const endTime = new Date(schedule.end_time).toLocaleString('ko-KR');
          const priorityBadge = getPriorityBadge(schedule.priority);
          const completedClass = schedule.is_completed ? 'line-through' : '';
          const bgColor = schedule.is_completed ? 'bg-gray-50' : '';
          
          html += `
            <div class="border rounded-lg p-4 flex justify-between items-start hover:bg-gray-50 ${bgColor}">
              <div>
                <h5 class="font-semibold ${completedClass}">${schedule.title} ${priorityBadge}</h5>
                <p class="text-sm text-gray-600">${startTime} - ${endTime}</p>
                <p class="text-sm text-gray-500">${schedule.description || ''}</p>
              </div>
              <div class="flex">
                <div class="mr-3">
                  <input class="mr-1" type="checkbox" 
                    ${schedule.is_completed ? 'checked' : ''} 
                    onchange="toggleScheduleComplete(${schedule.id}, this.checked)">
                  <label class="text-sm">ì™„ë£Œ</label>
                </div>
                <button class="text-sm bg-red-100 text-red-600 px-2 py-1 rounded hover:bg-red-200" 
                  onclick="deleteSchedule(${schedule.id})">ì‚­ì œ</button>
              </div>
            </div>
          `;
        });
        
        html += '</div>';
        container.innerHTML = html;
      } catch (error) {
        console.error('ì¼ì • ë¡œë“œ ì˜¤ë¥˜:', error);
        document.getElementById('schedules-container').innerHTML = 
          '<div class="bg-red-100 text-red-700 p-4 rounded">ì¼ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</div>';
      }
    }
    
    // ì¼ì • ì €ì¥ í•¨ìˆ˜
    async function saveSchedule() {
      const title = document.getElementById('schedule-title').value;
      const description = document.getElementById('schedule-description').value;
      const startTime = document.getElementById('schedule-start-time').value;
      const endTime = document.getElementById('schedule-end-time').value;
      const priority = document.getElementById('schedule-priority').value;
      
      if (!title || !startTime || !endTime) {
        alert('ì œëª©ê³¼ ì‹œê°„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      try {
        await fetchAPI('/api/schedules', 'POST', {
          title,
          description,
          start_time: new Date(startTime).toISOString(),
          end_time: new Date(endTime).toISOString(),
          priority: parseInt(priority)
        });
        
        // í¼ ë¦¬ì…‹
        document.getElementById('schedule-form').reset();
        
        // ì¼ì • ëª©ë¡ ë‹¤ì‹œ ë¡œë“œ
        loadSchedules();
        
        // ìº˜ë¦°ë” ìƒˆë¡œê³ ì¹¨
        window.calendar.refetchEvents();
        
        alert('ì¼ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
      } catch (error) {
        alert(error.message || 'ì¼ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    }
    
    // ì¼ì • ì™„ë£Œ ìƒíƒœ í† ê¸€ í•¨ìˆ˜
    async function toggleScheduleComplete(id, isCompleted) {
      try {
        await fetchAPI(`/api/schedules/${id}`, 'PUT', {
          is_completed: isCompleted
        });
        
        // ì¼ì • ëª©ë¡ ë‹¤ì‹œ ë¡œë“œ
        loadSchedules();
        
        // ìº˜ë¦°ë” ìƒˆë¡œê³ ì¹¨
        window.calendar.refetchEvents();
        
        // ëª¨ë‹¬ì´ ì—´ë ¤ìˆìœ¼ë©´ ë‹«ê¸°
        document.getElementById('detailModal').classList.add('hidden');
      } catch (error) {
        alert(error.message || 'ì¼ì • ìƒíƒœ ë³€ê²½ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    }
    
    // ì¼ì • ì‚­ì œ í•¨ìˆ˜
    async function deleteSchedule(id) {
      if (!confirm('ì •ë§ ì´ ì¼ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        return;
      }
      
      try {
        await fetchAPI(`/api/schedules/${id}`, 'DELETE');
        
        // ì¼ì • ëª©ë¡ ë‹¤ì‹œ ë¡œë“œ
        loadSchedules();
        
        // ìº˜ë¦°ë” ìƒˆë¡œê³ ì¹¨
        window.calendar.refetchEvents();
        
        // ëª¨ë‹¬ì´ ì—´ë ¤ìˆìœ¼ë©´ ë‹«ê¸°
        document.getElementById('detailModal').classList.add('hidden');
      } catch (error) {
        alert(error.message || 'ì¼ì • ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    }
    
    // ì¼ì • ìµœì í™” í•¨ìˆ˜
    async function optimizeSchedules() {
      try {
        document.getElementById('optimize-button').disabled = true;
        document.getElementById('optimize-button').innerHTML = 
          '<svg class="animate-spin h-5 w-5 mr-2 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ìµœì í™” ì¤‘...';
        
        const optimizedSchedules = await fetchAPI('/api/schedules/optimize', 'POST');
        
        document.getElementById('optimize-button').disabled = false;
        document.getElementById('optimize-button').innerHTML = 'ğŸ“ˆ ì¼ì • ìµœì í™”';
        
        // ìµœì í™”ëœ ì¼ì • í‘œì‹œ
        displayOptimizedSchedules(optimizedSchedules);
        
        // ê¸°ì¡´ ì¼ì • ëª©ë¡ ìƒˆë¡œê³ ì¹¨
        loadSchedules();
        
        // ìº˜ë¦°ë” ìƒˆë¡œê³ ì¹¨
        window.calendar.refetchEvents();
      } catch (error) {
        document.getElementById('optimize-button').disabled = false;
        document.getElementById('optimize-button').innerHTML = 'ğŸ“ˆ ì¼ì • ìµœì í™”';
        alert(error.message || 'ì¼ì • ìµœì í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
    }
    
    // ìµœì í™”ëœ ì¼ì • í‘œì‹œ í•¨ìˆ˜
    function displayOptimizedSchedules(schedules) {
      const container = document.getElementById('optimized-schedules-container');
      const section = document.getElementById('optimized-schedules-section');
      
      let html = '<div class="space-y-2">';
      
      schedules.forEach(schedule => {
        const startTime = new Date(schedule.start_time).toLocaleString('ko-KR');
        const endTime = new Date(schedule.end_time).toLocaleString('ko-KR');
        const priorityBadge = getPriorityBadge(schedule.priority);
        
        html += `
          <div class="border rounded-lg p-4 hover:bg-gray-50">
            <h5 class="font-semibold">${schedule.title} ${priorityBadge}</h5>
            <p class="text-sm text-green-600">ìµœì í™”ë¨: ${startTime} - ${endTime}</p>
            <p class="text-sm text-gray-500">${schedule.description || ''}</p>
          </div>
        `;
      });
      
      html += '</div>';
      container.innerHTML = html;
      section.style.display = 'block';
      
      // ìµœì í™” ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
      section.scrollIntoView({ behavior: 'smooth' });
    }
    // dashboard.htmlì˜ DOMContentLoaded ì´ë²¤íŠ¸ ë‚´ë¶€ì— ì¶”ê°€
// ì €ì¥ëœ ë‚ ì§œê°€ ìˆìœ¼ë©´ ì¼ì • ë“±ë¡ í¼ì— ì„¤ì •
const selectedDate = localStorage.getItem('selectedDate');
if (selectedDate) {
  document.getElementById('schedule-start-time').value = selectedDate;
  
  // ì¢…ë£Œ ì‹œê°„ì€ ì‹œì‘ ì‹œê°„ + 1ì‹œê°„ìœ¼ë¡œ ì„¤ì •
  const endDate = new Date(new Date(selectedDate).getTime() + 60 * 60 * 1000);
  document.getElementById('schedule-end-time').value = endDate.toISOString().slice(0, 16);
  
  // ì‚¬ìš© í›„ ì‚­ì œ
  localStorage.removeItem('selectedDate');
  
  // ì¼ì • ë“±ë¡ í¼ìœ¼ë¡œ ìŠ¤í¬ë¡¤
  document.getElementById('schedule-form').scrollIntoView({ behavior: 'smooth' });
}
  </script>
</body>
</html>